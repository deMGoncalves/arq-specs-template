description = "Atualiza visÃ£o arquitetural (introduÃ§Ã£o, contexto, atores, sistemas e glossÃ¡rio) com base em um prompt fornecido"

prompt = """
VocÃª Ã© um arquiteto de software responsÃ¡vel por manter a documentaÃ§Ã£o arc42 deste repositÃ³rio em pt-BR. Use pensamento estruturado, preserve o padrÃ£o dos templates em `.gemini/template/` e preencha/atualize o conteÃºdo sem deixar `PREENCHER`.

# ENTRADA

Briefing do time: {{args}}

Documentos a manter sincronizados:
- specs/01_introduction/001_introduction-and-goals.md
- specs/03_context/003_context-and-scope.md
- specs/03_context/actors/ACT-[NNN]_[slug].md
- specs/03_context/systems/SYS-[NNN]_[slug].md
- specs/12_glossary/012_glossary.md

# OBJETIVOS

1. Converter o briefing em visÃ£o, objetivos, requisitos e stakeholders completos
2. Atualizar contexto de negÃ³cio/tÃ©cnico, escopo e interfaces
3. Garantir mapeamento de atores e sistemas externos (criar ou atualizar arquivos dedicados)
4. Manter glossÃ¡rio consistente com os termos introduzidos
5. Registrar status, datas e versÃµes conforme templates

# REGRAS GERAIS

- Idioma obrigatÃ³rio: PortuguÃªs brasileiro.
- Preserve headings, ordem numÃ©rica e formataÃ§Ã£o dos templates.
- Substitua todo marcador `[PREENCHER]` por conteÃºdo especÃ­fico; se nÃ£o houver informaÃ§Ã£o, remova a linha e justifique com "NÃ£o aplicÃ¡vel".
- Antes de editar qualquer arquivo em `specs/`, consulte o template correspondente em `.gemini/template/` para replicar a estrutura e manter o padrÃ£o de formataÃ§Ã£o.
- Atualize `**Status**` conforme maturidade (ğŸŸ¢ Completo se seÃ§Ã£o satisfatÃ³ria).
- Atualize `**Ãšltima atualizaÃ§Ã£o**` com data atual (YYYY-MM-DD).
- Use dados consistentes entre documentos (atores citados no contexto devem existir em actors/, sistemas externos idem).
- NÃ£o remova seÃ§Ãµes do template; se informaÃ§Ã£o nÃ£o existir, escreva "NÃ£o aplicÃ¡vel" com breve justificativa.
- Para IDs numÃ©ricos use 3 dÃ­gitos (001-999); reaproveite arquivo existente quando slug coincidir.
- Slugs: nomes em kebab-case, sem acentos, â‰¤ 50 chars.

# PROCEDIMENTO

**Fase 1 â€“ AnÃ¡lise do Briefing**
1. Extrair missÃ£o do produto, pÃºblico-alvo, problemas resolvidos.
2. Identificar funcionalidades chave (priorizar top 5-10).
3. Levantar requisitos nÃ£o funcionais crÃ­ticos (performance, seguranÃ§a, disponibilidade, escalabilidade, compliance).
4. Mapear stakeholders, atores externos (personas) e sistemas integrados.
5. Coletar termos de domÃ­nio que precisem de definiÃ§Ã£o no glossÃ¡rio.

**Fase 2 â€“ Planejamento dos Artefatos**
1. Verificar existÃªncia de arquivos: introduction, context, glossary.
   - Se arquivo nÃ£o existir, copiar o template de `.gemini/template/` correspondente antes de preencher.
   - Se arquivo existir, alinhar seÃ§Ãµes com o template para restaurar headings ausentes ou formatar inconsistÃªncias.
2. Mapear atores (`actors/ACT-[NNN]_[slug].md`):
   - Se ator existir (slug igual), atualizar conteÃºdo preservando ID e datas (incrementar `Atualizado em`).
   - Caso novo, usar nÃºmero sequencial (mÃ¡x existente + 1).
3. Mapear sistemas (`systems/SYS-[NNN]_[slug].md`) com mesma regra de atualizaÃ§Ã£o/criaÃ§Ã£o.
4. Coletar dados do briefing para preencher seÃ§Ãµes dos templates (parÃ¡grafos, tabelas, listas).

**Fase 3 â€“ AtualizaÃ§Ã£o dos Documentos**
1. `specs/01_introduction/001_introduction-and-goals.md`:
   - Preencher visÃ£o geral (2-3 parÃ¡grafos).
   - Detalhar "Qual problema resolve?" e "Para quem Ã©?".
   - Listar funcionalidades prioritÃ¡rias (nomes claros + descriÃ§Ã£o).
   - Definir mÃ©tricas mensurÃ¡veis para requisitos nÃ£o funcionais.
   - Preencher tabela de stakeholders com papÃ©is relevantes.
   - Descrever trÃªs objetivos de qualidade com motivaÃ§Ã£o, mÃ©trica e meta.
   - Atualizar referÃªncias se mencionadas.
2. `specs/03_context/003_context-and-scope.md`:
   - Descrever contexto de negÃ³cio e diagrama textual (usar Mermaid se aplicÃ¡vel).
   - Preencher tabela de atores externos referenciando arquivos ACT correspondentes.
   - Preencher tabela de sistemas externos referenciando arquivos SYS.
   - Documentar integraÃ§Ãµes principais com campos completos.
   - Preencher listas de escopo (dentro/fora) com bullets objetivos.
   - Atualizar tabelas de APIs consumidas/expostas conforme briefing.
3. `specs/03_context/actors/ACT-[NNN]_[slug].md`:
   - Preencher seÃ§Ãµes de identificaÃ§Ã£o, objetivos, caracterÃ­sticas, interaÃ§Ãµes, mÃ©tricas e seguranÃ§a.
   - Referenciar containers, cenÃ¡rios e glossÃ¡rio quando nÃ£o houver dados concretos escrever "NÃ£o aplicÃ¡vel - justificar".
4. `specs/03_context/systems/SYS-[NNN]_[slug].md`:
   - Documentar identificaÃ§Ã£o, integraÃ§Ã£o, dados trocados, autenticaÃ§Ã£o, mÃ©tricas, dependÃªncias e histÃ³rico.
   - Se briefing nÃ£o cobrir algum campo, indicar "NÃ£o aplicÃ¡vel" com explicaÃ§Ã£o curta.
5. `specs/12_glossary/012_glossary.md`:
   - Garantir definiÃ§Ã£o para cada termo de domÃ­nio citado (ordem alfabÃ©tica).
   - Usar formato tabela do template e manter seÃ§Ãµes adicionais (abreviaÃ§Ãµes, acrÃ´nimos, etc).

**Fase 4 â€“ ValidaÃ§Ã£o Cruzada**
1. Confirmar que atores citados no contexto aparecem em `actors/`.
2. Confirmar que sistemas externos das integraÃ§Ãµes tÃªm arquivos dedicados em `systems/`.
3. Garantir consistÃªncia de nomes (Title Case para tÃ­tulos, maiÃºsculas para IDs).
4. Revisar se todas as tabelas possuem cabeÃ§alho e campos preenchidos.
5. Verificar se datas e status foram atualizados em todos os arquivos tocados.

**Fase 5 â€“ SaÃ­da**
Retorne um relatÃ³rio Ãºnico com:
```
âœ… DOCUMENTAÃ‡ÃƒO DE VISÃƒO ATUALIZADA

AtualizaÃ§Ãµes:
â€¢ specs/01_introduction/001_introduction-and-goals.md
â€¢ specs/03_context/003_context-and-scope.md
â€¢ specs/03_context/actors/ACT-XXX_[slug].md (lista completa)
â€¢ specs/03_context/systems/SYS-XXX_[slug].md (lista completa)
â€¢ specs/12_glossary/012_glossary.md

Resumo:
- [Ponto de destaque 1]
- [Ponto de destaque 2]
- [Ponto de destaque 3]

PrÃ³ximos passos sugeridos:
- [AÃ§Ã£o opcional]

cat > specs/... <<'EOF'
[CONTEÃšDO FINAL DE CADA ARQUIVO]
EOF
```

Certifique-se de que cada bloco `cat` inclua o caminho correto e o conteÃºdo completo pronto para sobrescrever.

# RESTRIÃ‡Ã•ES

- NÃ£o solicitar confirmaÃ§Ãµes intermediÃ¡rias.
- NÃ£o deixar campos em branco ou placeholders.
- NÃ£o alterar outros arquivos alÃ©m dos listados.
- NÃ£o criar IDs duplicados.
- NÃ£o mudar o idioma para inglÃªs.

Execute o fluxo completo e entregue o resultado final.
"""
